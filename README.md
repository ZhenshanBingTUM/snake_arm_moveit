# Snake_arm_moveit
We will see later

## How to Run it
### Step 0: Download the git into your workspace (catin_ws/src)
```
$ cd ~/catkin_ws
$ catkin_make
$ source ~/catkin_ws/devel/setup.bash
```
### Step 1: Launch the Gazebo simulation
```
$ roslaunch IRB300_gazebo gazebo.launch
```
### Step 2: Launch the moveit plan package
```
$ roslaunch moveit_IRB300 demo_planning_execution.launch
```

## Instructions for simulating Gazebo and Moveit together
### 1. Export URDF from Solidworks
You have to install the [Solidworks-Urdf Exporter](http://wiki.ros.org/sw_urdf_exporter) first.

### 2. Verify the joints configuration (axis, rotating direction)
launch moveit setup assistant, you can check the configuration in step "Robot Pose"
```
roslaunch moveit_setup_assistant setup_assistant.launch
```
### 3. Verify your urdf in gazebo
1). Create ROS Package "XXX_gazebo" for launching in gazebo.

2). Copy the "gazebo.launch" (automatically generated by the exporter) to your "XXX_gazebo" package.

3). Launch and examine it (You may check and edit the urdf path in the file gazebo.launch).

### 4. Create MoveIt Pacakge using setup assistant
Then you will have your package and you can examine it by running
```
$ roslaunch moveit_IRB300 demo.launch
```
Examine it by following the [moveit tutorial](http://docs.ros.org/kinetic/api/moveit_tutorials/html/doc/quickstart_in_rviz/quickstart_in_rviz_tutorial.html#getting-started).

### 5. Prepare all the files for connecting MoveIt and Gazebo
#### 1). URDF file
a. Add gazebo plugin
```
<gazebo>
    <plugin name="ros_control" filename="libgazebo_ros_control.so">
      
    </plugin>
  </gazebo>
``` 
b. Add URDF transmission element
```
<transmission name="tranX">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_X">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motorX">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
```
c. examine it by checking avalible rostopics

## Possible issues

* 'position_controllers/JointTrajectoryController' does not exist
```
$ sudo apt-get install ros-kinetic*controllers*
```
